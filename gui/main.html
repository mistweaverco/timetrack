<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; img-src 'self' data:; style-src 'self' 'sha256-68BvgoB8sHi+LLMZhVmN6nH4JnDNLpefxZaHgqFrZ44='">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeTrack.Desktop</title>
  </head>
  <style>
    .is-hidden {
      display: none;
    }
    body.is-loading {
      background-color: #263038;
    }
    #loader {
      display: block;
      margin: 40px auto;
      width: 320px;
      max-width: 100%;
    }
    #loader span {
      display: block;
      margin-left: auto;
      margin-right: auto;
      max-width: fit-content;
    }
    .loader {
      transform: rotateZ(45deg);
      perspective: 1000px;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      color: #fff;
    }
    .loader:before,
    .loader:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: inherit;
      height: inherit;
      border-radius: 50%;
      transform: rotateX(70deg);
      animation: 1s spin linear infinite;
    }
    .loader:after {
      color: #00d1b2;
      transform: rotateY(70deg);
      animation-delay: .4s;
    }

  @keyframes rotate {
    0% {
      transform: translate(-50%, -50%) rotateZ(0deg);
    }
    100% {
      transform: translate(-50%, -50%) rotateZ(360deg);
    }
  }

  @keyframes rotateccw {
    0% {
      transform: translate(-50%, -50%) rotate(0deg);
    }
    100% {
      transform: translate(-50%, -50%) rotate(-360deg);
    }
  }

  @keyframes spin {
    0%,
    100% {
      box-shadow: .2em 0px 0 0px currentcolor;
    }
    12% {
      box-shadow: .2em .2em 0 0 currentcolor;
    }
    25% {
      box-shadow: 0 .2em 0 0px currentcolor;
    }
    37% {
      box-shadow: -.2em .2em 0 0 currentcolor;
    }
    50% {
      box-shadow: -.2em 0 0 0 currentcolor;
    }
    62% {
      box-shadow: -.2em -.2em 0 0 currentcolor;
    }
    75% {
      box-shadow: 0px -.2em 0 0 currentcolor;
    }
    87% {
      box-shadow: .2em -.2em 0 0 currentcolor;
    }
  }
  </style>
  <body class="is-loading">

    <div id="loader">
      <span>
        <span class="loader"></span>
      </span>
    </div>

    <div id="content" class="container is-hidden">

      <div id="edit-project-modal" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <form>
            <header class="modal-card-head">
              <p class="modal-card-title">Edit Project</p>
            </header>
            <section class="modal-card-body">
              <div class="field">
                <label class="label">Project Name</label>
                <div class="control">
                  <input type="hidden" data-project-oldname>
                  <input class="input" required type="text" placeholder="Project Name" data-project-name>
                </div>
              </div>
            </section>
            <footer class="modal-card-foot">
              <div data-buttons class="buttons">
                <button class="button is-warning" data-action-type="edit-project">Edit</button>
                <button class="button" data-action-type="cancel">Cancel</button>
              </div>
            </footer>
          </form>
        </div>
      </div>

      <div id="edit-taskdef-modal" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <form>
            <header class="modal-card-head">
              <p class="modal-card-title">Edit Task Defintion</p>
            </header>
            <section class="modal-card-body">
              <input name="oldname" type="hidden" />
              <div class="field">
                <label class="label">Task Definition Name</label>
                <div class="control">
                  <input name="name" class="input" type="text" placeholder="Task Definition Name" />
                </div>
              </div>
            </section>
            <footer class="modal-card-foot">
              <div data-buttons class="buttons">
                <button type="submit" class="button is-warning" data-action-type="edit-taskdef">Edit</button>
                <button class="button" data-action-type="cancel">Cancel</button>
              </div>
            </footer>
          </form>
        </div>
      </div>


      <div id="edit-task-modal" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <form>
            <header class="modal-card-head">
              <p class="modal-card-title">Edit Task</p>
            </header>
            <section class="modal-card-body">
              <input type="hidden" data-task-oldname>
              <div class="field">
                <label class="label">Task Name</label>
                <div class="control">
                  <input class="input" type="text" placeholder="Task Name" data-task-name>
                </div>
              </div>
              <div class="field">
                <label class="label">Task Description</label>
                <div class="control">
                  <textarea class="textarea" placeholder="Task Description" data-task-description></textarea>
                </div>
              </div>
              <div class="field">
                <label class="label">Task Duration</label>
                <div class="control">
                  <input class="input" type="number" value="0" min=0 data-task-seconds>
                  <small></small>
                </div>
              </div>
            </section>
            <footer class="modal-card-foot">
              <div data-buttons class="buttons">
                <button type="submit" class="button is-warning" data-action-type="edit-task">Edit</button>
                <button class="button" data-action-type="cancel">Cancel</button>
              </div>
            </footer>
          </form>
        </div>
      </div>


      <div id="delete-project-modal" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <header class="modal-card-head">
            <p class="modal-card-title">Confirm deletion</p>
          </header>
          <section class="modal-card-body">
            Do you really want to delete?
          </section>
          <footer class="modal-card-foot">
            <div data-buttons class="buttons">
              <button data-action-type="delete-project" class="button is-danger">Delete</button>
              <button data-action-type="cancel" class="button">Cancel</button>
            </div>
          </footer>
        </div>
      </div>

      <div id="delete-task-modal" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <header class="modal-card-head">
            <p class="modal-card-title">Confirm deletion</p>
          </header>
          <section class="modal-card-body">
            Do you really want to delete?
          </section>
          <footer class="modal-card-foot">
            <div data-buttons class="buttons">
              <button data-action-type="delete-task" class="button is-danger">Delete</button>
              <button data-action-type="cancel" class="button">Cancel</button>
            </div>
          </footer>
        </div>
      </div>


      <div id="delete-taskdef-modal" class="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
          <header class="modal-card-head">
            <p class="modal-card-title">Confirm deletion</p>
          </header>
          <section class="modal-card-body">
            Do you really want to delete?
          </section>
          <footer class="modal-card-foot">
            <div data-buttons class="buttons">
              <button data-action-type="delete-taskdef" class="button is-danger">Delete</button>
              <button data-action-type="cancel" class="button">Cancel</button>
            </div>
          </footer>
        </div>
      </div>


      <section class="section">
        <nav class="panel">
          <p class="panel-heading">Running Tasks</p>
          <div data-running-tasks-empty-info class="notification">
              No <strong>running</strong> tasks found.
          </div>
          <div class="panel-block is-hidden" data-running-tasks-container>
            <table class="table is-fullwidth">
              <thead>
                <tr>
                  <th>Project</th>
                  <th>Task Name</th>
                  <th>Task Elapsed</th>
                  <th>Task Date</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody data-running-tasks-list></tbody>
            </table>
          </div>
        </nav>
      </section>

      <section class="section">
        <h1 class="title">Projects</h1>
        <h2 class="subtitle">All available projects</h2>
        <div class="fixed-grid has-3-cols">
          <div class="grid">
            <div class="cell">
              <nav class="panel">
                <p class="panel-heading">New</p>
                <form data-project-form class="p-4">
                  <div class="field">
                    <label class="label">Project Name</label>
                    <div class="control">
                      <input class="input" type="text" placeholder="Project Name" data-project-name>
                    </div>
                  </div>
                  <div class="field">
                    <div class="control">
                      <button class="button is-primary" type="submit">Add Project</button>
                    </div>
                  </div>
                </form>
              </nav>
            </div>
            <div class="cell">
              <nav class="panel">
                <p class="panel-heading">Available</p>
                <div data-project-list>
                  <div data-project-item class="panel-block">
                    <span class="panel-icon">
                      <i class="fas fa-book" aria-hidden="true"></i>
                    </span>
                    <p data-project-item-header class="bd-notification is-info">Loading ...</p>
                  </div>
                </div>
              </nav>
            </div>
            <div data-project-actions-container class="cell is-hidden">
              <nav class="panel">
                <p class="panel-heading">Actions</p>
                <form data-buttons class="p-4">
                  <div class="field">
                    <div class="control">
                      <button class="button is-warning" data-action-type="edit-project">Edit</button>
                      <button class="button is-danger" data-action-type="delete-project">Delete</button>
                    </div>
                  </div>
                </form>
              </nav>
            </div>
          </div>
        </div>
      </section>


      <section class="section">
        <h1 class="title">Tasks</h1>
        <h2 class="subtitle">All available Tasks for a given project</h2>
        <div class="fixed-grid has-3-cols">
          <div class="grid">
            <div class="cell">
              <nav class="panel">
                <p class="panel-heading">New</p>
                <form data-task-form class="p-4">
                  <div class="field">
                    <label class="label">Task Defintion</label>
                    <div class="control">
                      <div class="select">
                        <select name="name">
                          <option value="">Loading...</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="field">
                    <label class="label">Task Description</label>
                    <div class="control">
                      <textarea name="description" class="textarea" placeholder="Task Description"></textarea>
                    </div>
                  </div>
                  <div class="field">
                    <label class="label">Task Duration</label>
                    <div class="control">
                      <input name="seconds" class="input" type="number" value="0" min=0>
                    </div>
                  </div>
                  <div class="field">
                    <div class="control">
                      <button class="button is-primary" type="submit">Add Task</button>
                    </div>
                  </div>
                </form>
              </nav>
            </div>

            <div class="cell">
              <nav class="panel">
                <p class="panel-heading">Available</p>
                <p class="panel-tabs">
                  <a class="is-active">Today</a>
                  <a>All</a>
                </p>
                <div data-task-list class="is-hidden">
                  <div data-task-item class="panel-block">
                    <span class="panel-icon">
                      <i class="fas fa-book" aria-hidden="true"></i>
                    </span>
                    <div class="grid has-1-cols">
                      <div class="columns">
                        <div class="column">
                          <p data-task-name class="bd-notification is-info">Loading ...</p>
                        </div>
                      </div>
                    </div>
                    <div class="grid has-2-cols">
                      <div class="columns">
                        <div class="column">
                          <p data-task-time class="bd-notification is-info">Loading ...</p>
                        </div>
                        <div class="column">
                          <p data-task-date class="bd-notification is-info">Loading ...</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </nav>
            </div>

            <div data-task-actions-container class="cell is-hidden">
              <nav class="panel">
                <p class="panel-heading">Actions</p>
                <form data-buttons class="p-4">
                  <div class="field">
                    <div data-buttons class="control">
                      <button class="button is-primary" data-action-type="toggle-task">Start</button>
                      <button class="button is-warning" data-action-type="edit-task">Edit</button>
                      <button class="button is-danger" data-action-type="delete-task">Delete</button>
                    </div>
                  </div>
                </form>
              </nav>
            </div>
          </div>
        </div>
      </section>

      <section class="section is-hidden" data-taskdef-section>
        <h1 class="title">Tasksdefinitions</h1>
        <h2 class="subtitle">All available Tasksdefs for a given project</h2>
        <div class="fixed-grid has-3-cols">
          <div class="grid">
            <div class="cell">
              <nav class="panel">
                <p class="panel-heading">New</p>
                <form data-add-taskdef-form class="p-4">
                  <div class="field">
                    <label class="label">Taskdef Name</label>
                    <div class="control">
                      <input name="name" class="input" type="text" placeholder="Taskdef Name">
                    </div>
                  </div>
                  <div class="field">
                    <div class="control">
                      <button class="button is-primary" type="submit">Add Taskdef</button>
                    </div>
                  </div>
                </form>
              </nav>
            </div>
            <div class="cell">
              <nav class="panel">
                <p class="panel-heading">Available</p>
                <div data-taskdef-list>
                  <div data-taskdef-item class="panel-block">
                    <span class="panel-icon">
                      <i class="fas fa-book" aria-hidden="true"></i>
                    </span>
                    <p data-taskdef-name class="bd-notification is-info">Loading ...</p>
                  </div>
                </div>
              </nav>
            </div>

            <div data-taskdef-actions-container class="cell is-hidden">
              <nav class="panel">
                <p class="panel-heading">Actions</p>
                <form data-buttons class="p-4">
                  <div class="field">
                    <div data-buttons class="control">
                      <button class="button is-warning" data-action-type="edit-taskdef">Edit</button>
                      <button class="button is-danger" data-action-type="delete-taskdef">Delete</button>
                    </div>
                  </div>
                </form>
              </nav>
            </div>

          </div>
        </div>
      </section>
    </div>
    <link href="../node_modules/bulma/css/bulma.min.css" rel="stylesheet" />
    <link href="../node_modules/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
    <script src="js/modal.js"></script>
    <script src="js/renderer.js"></script>
  </body>
</html>
